\documentclass[
	fontsize=10pt,
	twoside=true,
	open=any,
	%chapterprefix=true,
	%chapterentrydots=true,
	numbers=noenddot,
	%draft=true,
	%overfullrule=true,
]{kaobook}

% Set the language
\usepackage[english]{babel} % Load characters and hyphenation
\usepackage[english=british]{csquotes} % English quotes
\usepackage[utf8]{inputenc}
\usepackage{palatino}
\setmonofont{Ubuntu Mono}

% Load packages for testing
\usepackage{blindtext}
%\usepackage{showframe} % Uncomment to show boxes around the text area, margin, header and footer
%\usepackage{showlabels} % Uncomment to output the content of \label commands to the document where they are used

% Load the bibliography package
\usepackage{styles/kaobiblio}
%\addbibresource{main.bib} % Bibliography file

% Load mathematical packages for theorems and related environments. NOTE: choose only one between 'mdftheorems' and 'plaintheorems'.
\usepackage{styles/mdftheorems}
%\usepackage{styles/plaintheorems}

\usepackage{color}

%\usepackage{hhline}

\usepackage{listings}
\lstdefinelanguage{Hoon}
{
  alsoletter={
    ~!@\#\$\%^&*-_=+:;<>\,.?/|`"'\\
  },
  keywords={
    |_, |\%, |@, |:, |., |-, |^, |~, |*, |=, |?, |\$,
    \$@, \$_, \$:, \$\%, \$<, \$>, \$|, \$\&, \$^, \$~, \$-, \$=, \$?, \$;,
    \%_, \%., \%^, \%+, \%-, \%:, \%~, \%*, \%=,
    :_, :^, :+, :-, :~, :*,
    .+, .*, .=, .?, .^,
    --, ==,
    ^|, ^., ^-, ^+, ^\&, ^~, ^=, ^?, ^*, ^:,
    ~|, ~\$, ~_, ~\%, ~/, ~<, ~>, ~+, ~\&, ~?, ~=, ~!,
    ;:, ;/, ;<, ;~, ;;, ;+, ;*, ;=,
    =|, =., =?, =^, =:, =/, =;, =<, =>, =-, =*, =\,, =+, =~,
    ?|, ?:, ?., ?<, ?>, ?-, ?^, ?=, ?\#, ?+, ?\&, ?@, ?~, ?!,
    !:, !., !\,, !;, !>, !<, !@, !=, !?, !!,
    /?, /-, /+, /=, /\%, /\$, /*,
    +|, +\$, ++, +*,
  },
  morekeywords={
    @, @c, @d, @da, @dr, @f, @i, @if, @is, @n, @p, @q, @r, @rh, @rs, @rd, @rq, @s, @sb, @sd, @sv, @sw, @sx, @t, @ta, @tas, @u, @ub, @uc, @ud, @uv, @uw, @ux
    unit, cord, arch, tape, list, map, set
  },
  sensitive=true,
  morecomment=[l]{::},
  morestring=[b]",
  morestring=[d]'
}
\lstset{ % General setup for the package
    language=Perl,
    basicstyle=\small\ttfamily,
    numbers=left,
    numberstyle=\tiny\sffamily,
    frame=tb,
    tabsize=4,
    columns=fixed,
    showstringspaces=false,
    showtabs=false,
    keepspaces,
    commentstyle=\color{red},
    keywordstyle=\color{blue}
}
\lstdefinestyle{numbers}{numbers=left, stepnumber=1, numberstyle=\tiny, numbersep=10pt}
\lstdefinestyle{nonumbers}{numbers=none}
% https://tex.stackexchange.com/questions/261748/filename-in-line-0-of-a-lstlisting#262294

\graphicspath{{examples/documentation/images/}{images/}} % Paths in which to look for images

\makeindex[columns=3, title=Alphabetical Index, intoc] % Make LaTeX produce the files required to compile the index

\makeglossaries % Make LaTeX produce the files required to compile the glossary

\makenomenclature % Make LaTeX produce the files required to compile the nomenclature

% English adjutants
\renewcommand{\eg}{\emph{e.g.,}}

% keystrokes
\newcommand{\CtrlC}{\texttt{Ctrl}+\texttt{C}}
\newcommand{\CtrlD}{\texttt{Ctrl}+\texttt{D}}
\newcommand{\CtrlZ}{\texttt{Ctrl}+\texttt{Z}}

% vanes
\newcommand{\ames}{\texttt{\%ames}}
\newcommand{\behn}{\texttt{\%behn}}
\newcommand{\clay}{\texttt{\%clay}}
\newcommand{\dill}{\texttt{\%dill}}
\newcommand{\eyre}{\texttt{\%eyre}}
\newcommand{\ford}{\texttt{++ford}}
\newcommand{\gall}{\texttt{\%gall}}
\newcommand{\iris}{\texttt{\%iris}}
\newcommand{\jael}{\texttt{\%jael}}
\newcommand{\lull}{\texttt{\%lull}}
\newcommand{\zuse}{\texttt{\%zuse}}

% common referents
\newcommand{\ask}{\texttt{\%ask}}
\newcommand{\chome}{\texttt{\%home}}
\newcommand{\ckids}{\texttt{\%kids}}
\newcommand{\graphstore}{\texttt{\%graph-store}}
\newcommand{\mock}{\texttt{++mock}}
\newcommand{\say}{\texttt{\%say}}
\newcommand{\shoe}{\texttt{\%shoe}}
\newcommand{\sole}{\texttt{\%sole}}
\newcommand{\unix}{\texttt{\%unix}}
\newcommand{\zod}{\texttt{\textasciitilde zod}}

\newcommand{\czar}{\texttt{\%czar}}
\newcommand{\king}{\texttt{\%king}}
\newcommand{\duke}{\texttt{\%duke}}
\newcommand{\earl}{\texttt{\%earl}}
\newcommand{\lord}{\texttt{\%lord}}
\newcommand{\pawn}{\texttt{\%pawn}}
\newcommand{\wolf}{\texttt{\%wolf}}

% Hoon auras
\newcommand{\nullchr}{\texttt{\textasciitilde}}
\newcommand{\patc}{\texttt{@c}}
\newcommand{\patd}{\texttt{@d}}
\newcommand{\patda}{\texttt{@da}}
\newcommand{\patdr}{\texttt{@dr}}
\newcommand{\patf}{\texttt{@f}}
\newcommand{\pati}{\texttt{@i}}
\newcommand{\patif}{\texttt{@if}}
\newcommand{\patis}{\texttt{@is}}
\newcommand{\patn}{\texttt{@n}}
\newcommand{\patp}{\texttt{@p}}
\newcommand{\patq}{\texttt{@q}}
\newcommand{\patr}{\texttt{@r}}
\newcommand{\patrd}{\texttt{@rd}}
\newcommand{\patrh}{\texttt{@rh}}
\newcommand{\patrq}{\texttt{@rq}}
\newcommand{\patrs}{\texttt{@rs}}
\newcommand{\pats}{\texttt{@s}}
\newcommand{\patsb}{\texttt{@sb}}
\newcommand{\patsd}{\texttt{@sd}}
\newcommand{\patsv}{\texttt{@sv}}
\newcommand{\patsw}{\texttt{@sw}}
\newcommand{\patsx}{\texttt{@sx}}
\newcommand{\patt}{\texttt{@t}}
\newcommand{\patta}{\texttt{@ta}}
\newcommand{\pattas}{\texttt{@tas}}
\newcommand{\patu}{\texttt{@u}}
\newcommand{\patub}{\texttt{@ub}}
\newcommand{\patuc}{\texttt{@uc}}
\newcommand{\patud}{\texttt{@ud}}
\newcommand{\patui}{\texttt{@ui}}
\newcommand{\patuv}{\texttt{@uv}}
\newcommand{\patuvJ}{\texttt{@uvJ}}  % entropy
\newcommand{\patuw}{\texttt{@uw}}
\newcommand{\patux}{\texttt{@ux}}

\newcommand{\ub}{${0b}$}
\newcommand{\uc}{${0c}$}
\newcommand{\ui}{${0i}$}
\newcommand{\ux}{${0x}$}

\newcommand{\yes}{\texttt{\%.y}}
\newcommand{\no}{\texttt{\%.n}}

\newcommand{\irrtis}{\texttt{=(a b)}}

% core types
\newcommand{\gold}{\texttt{\%gold}}
\newcommand{\iron}{\texttt{\%iron}}
\newcommand{\lead}{\texttt{\%lead}}
\newcommand{\zinc}{\texttt{\%zinc}}

% ++move
\newcommand{\pass}{\texttt{\%pass}}
\newcommand{\give}{\texttt{\%give}}
\newcommand{\slip}{\texttt{\%slip}}
\renewcommand{\unix}{\texttt{\%unix}}

% rune families
\renewcommand{\bar}{\texttt{|}}
\newcommand{\buc}{\texttt{\$}}
\newcommand{\cen}{\texttt{\%}}
\newcommand{\col}{\texttt{:}}
\renewcommand{\dot}{\texttt{.}}
\newcommand{\ket}{\texttt{\textasciicircum}}
\newcommand{\mic}{\texttt{;}}
\newcommand{\sig}{\texttt{\textasciitilde}}
\newcommand{\tis}{\texttt{=}}
\newcommand{\wut}{\texttt{?}}
\newcommand{\zap}{\texttt{!}}

% other aural ASCII symbols
\newcommand{\cab}{\texttt{\_}}
\newcommand{\fas}{\texttt{/}}
\newcommand{\hep}{\texttt{-}}
\newcommand{\lus}{\texttt{+}}
\newcommand{\tar}{\texttt{*}}

\newcommand{\pbar}{\texttt{|} “bar”}
\newcommand{\pbuc}{\texttt{\$} “buc”}
\newcommand{\pcen}{\texttt{\%} “cen”}
\newcommand{\pcol}{\texttt{:} “col”}
\newcommand{\pdot}{\texttt{.} “dot”}
\newcommand{\pket}{\texttt{\textasciicircum} “ket”}
\newcommand{\pmic}{\texttt{;} “mic”}
\newcommand{\psig}{\texttt{\textasciitilde} “sig”}
\newcommand{\ptis}{\texttt{=} “tis”}
\newcommand{\pwut}{\texttt{?} “wut”}
\newcommand{\pzap}{\texttt{!} “zap”}

% individual runes
\newcommand{\pbarbuc}{\texttt{|\$} “barbuc”}
\newcommand{\pbarcab}{\texttt{|\_} “barcab”}
\newcommand{\pbarcen}{\texttt{|\%} “barcen”}
\newcommand{\pbarcol}{\texttt{|:} “barcol”}
\newcommand{\pbardot}{\texttt{|.} “bardot”}
\newcommand{\pbarhep}{\texttt{|-} “barhep”}
\newcommand{\pbarket}{\texttt{|\textasciicircum} “barket”}
\newcommand{\pbarpat}{\texttt{|\@} “barpat”}
\newcommand{\pbarsig}{\texttt{|\textasciitilde} “barsig”}
\newcommand{\pbartar}{\texttt{|*} “bartar”}
\newcommand{\pbartis}{\texttt{|=} “bartis”}
\newcommand{\pbarwut}{\texttt{|?} “barwut”}
%
\newcommand{\pbucbar}{\texttt{\$|} “bucbar”}
\newcommand{\pbuccab}{\texttt{\$\_} “buccab”}
\newcommand{\pbuccen}{\texttt{\$\%} “buccen”}
\newcommand{\pbuccol}{\texttt{\$:} “buccol”}
\newcommand{\pbucdot}{\texttt{\$.} “bucdot”}
\newcommand{\pbucgal}{\texttt{\$<} “bucgal”}
\newcommand{\pbucgar}{\texttt{\$>} “bucgar”}
\newcommand{\pbuchep}{\texttt{\$-} “buchep”}
\newcommand{\pbucket}{\texttt{\$\textasciicircum} “bucket”}
\newcommand{\pbucmic}{\texttt{\$} “bucmic”}
\newcommand{\pbucpam}{\texttt{\$\&} “bucpam”}
\newcommand{\pbucpat}{\texttt{\$\@} “bucpat”}
\newcommand{\pbucsig}{\texttt{\$\textascitilde} “bucsig”}
\newcommand{\pbuctis}{\texttt{\$=} “buctis”}
\newcommand{\pbucwut}{\texttt{\$?} “bucwut”}
%
\newcommand{\pcencab}{\texttt{\%\_} “cencab”}
\newcommand{\pcencol}{\texttt{\%:} “cencol”}
\newcommand{\pcendot}{\texttt{\%.} “cendot”}
\newcommand{\pcenhep}{\texttt{\%-} “cenhep”}
\newcommand{\pcenket}{\texttt{\%\textasciicircum} “cenket”}
\newcommand{\pcenlus}{\texttt{\%+} “cenlus”}
\newcommand{\pcensig}{\texttt{\%\textasciitilde} “censig”}
\newcommand{\pcentar}{\texttt{\%*} “centar”}
\newcommand{\pcentis}{\texttt{\%=} “centis”}
%
\newcommand{\pcolcab}{\texttt{:\_} “colcab”}
\newcommand{\pcolcol}{\texttt{::} “colcol”}
\newcommand{\pcolhep}{\texttt{:-} “colhep”}
\newcommand{\pcolket}{\texttt{:\textasciicircum} “colket”}
\newcommand{\pcollus}{\texttt{:+} “collus”}
\newcommand{\pcolsig}{\texttt{:\textasciitilde} “colsig”}
\newcommand{\pcoltar}{\texttt{:*} “coltar”}
%
\newcommand{\pdotlus}{\texttt{.+} “dotlus”}
\newcommand{\pdotket}{\texttt{.\textasciicircum} “dotket”}
\newcommand{\pdottar}{\texttt{.*} “dottar”}
\newcommand{\pdottis}{\texttt{.=} “dottis”}
\newcommand{\pdotwut}{\texttt{.?} “dotwut”}
%
\newcommand{\pfasbuc}{\texttt{/\$} “fasbuc”}
\newcommand{\pfascen}{\texttt{/\%} “fascen”}
\newcommand{\pfashep}{\texttt{/-} “fashep”}
\newcommand{\pfaslus}{\texttt{/+} “faslus”}
\newcommand{\pfastar}{\texttt{/*} “fastar”}
\newcommand{\pfastis}{\texttt{/=} “fastis”}
\newcommand{\pfaswut}{\texttt{/?} “faswut”}
%
\newcommand{\phephep}{\texttt{--} “hephep”}
%
\newcommand{\pketbar}{\texttt{\textasciicircum|} “ketbar”}
\newcommand{\pketcol}{\texttt{\textasciicircum:} “ketcol”}
\newcommand{\pketdot}{\texttt{\textasciicircum.} “ketdot”}
\newcommand{\pkethep}{\texttt{\textasciicircum-} “kethep”}
\newcommand{\pketlus}{\texttt{\textasciicircum+} “ketlus”}
\newcommand{\pketpam}{\texttt{\textasciicircum\&} “ketpam”}
\newcommand{\pketsig}{\texttt{\textasciicircum\textasciitilde} “ketsig”}
\newcommand{\pkettar}{\texttt{\textasciicircum*} “kettar”}
\newcommand{\pkettis}{\texttt{\textasciicircum=} “kettis”}
\newcommand{\pketwut}{\texttt{\textasciicircum?} “ketwut”}
%
\newcommand{\plusbar}{\texttt{+|} “lusbar”}
\newcommand{\plusbuc}{\texttt{+\$} “lusbuc”}
\newcommand{\pluslus}{\texttt{++} “luslus”}
\newcommand{\plustar}{\texttt{+*} “lustar”}
%
\newcommand{\pmiccol}{\texttt{;:} “miccol”}
\newcommand{\pmicfas}{\texttt{;/} “micfas”}
\newcommand{\pmicgal}{\texttt{;<} “micgal”}
\newcommand{\pmiclus}{\texttt{;+} “miclus”}
\newcommand{\pmicmic}{\texttt{;;} “micmic”}
\newcommand{\pmicsig}{\texttt{;\textasciitilde} “micsig”}
\newcommand{\pmictar}{\texttt{;*} “mictar”}
\newcommand{\pmictis}{\texttt{;=} “mictis”}
%
\newcommand{\psigbar}{\texttt{\textasciitilde|} “sigbar”}
\newcommand{\psigbuc}{\texttt{\textasciitilde\$} “sigbuc”}
\newcommand{\psigcab}{\texttt{\textasciitilde\_} “sigcab”}
\newcommand{\psigcen}{\texttt{\textasciitilde\%} “sigcen”}
\newcommand{\psigfas}{\texttt{\textasciitilde/} “sigfas”}
\newcommand{\psiggal}{\texttt{\textasciitilde<} “siggal”}
\newcommand{\psiggar}{\texttt{\textasciitilde>} “siggar”}
\newcommand{\psiglus}{\texttt{\textasciitilde+} “siglus”}
\newcommand{\psigpam}{\texttt{\textasciitilde\&} “sigpam”}
\newcommand{\psigtis}{\texttt{\textasciitilde=} “sigtis”}
\newcommand{\psigwut}{\texttt{\textasciitilde?} “sigwut”}
\newcommand{\psigzap}{\texttt{\textasciitilde!} “sigzap”}
%
\newcommand{\ptisbar}{\texttt{=|} “tisbar”}
\newcommand{\ptiscol}{\texttt{=:} “tiscol”}
\newcommand{\ptiscom}{\texttt{=,} “tiscom”}
\newcommand{\ptisdot}{\texttt{=.} “tisdot”}
\newcommand{\ptisfas}{\texttt{=/} “tisfas”}
\newcommand{\ptisgal}{\texttt{=<} “tisgal”}
\newcommand{\ptisgar}{\texttt{=>} “tisgar”}
\newcommand{\ptishep}{\texttt{=-} “tishep”}
\newcommand{\ptisket}{\texttt{=\textasciicircum} “tisket”}
\newcommand{\ptislus}{\texttt{=+} “tislus”}
\newcommand{\ptismic}{\texttt{=;} “tismic”}
\newcommand{\ptistar}{\texttt{=*} “tistar”}
\newcommand{\ptissig}{\texttt{=\textasciitilde} “tissig”}
\newcommand{\ptistis}{\texttt{==} “tistis”}
\newcommand{\ptiswut}{\texttt{=?} “tiswut”}
%
\newcommand{\pwutbar}{\texttt{?|} “wutbar”}
\newcommand{\pwutcol}{\texttt{?:} “wutcol”}
\newcommand{\pwutdot}{\texttt{?.} “wutdot”}
\newcommand{\pwutgal}{\texttt{?<} “wutgal”}
\newcommand{\pwutgar}{\texttt{?>} “wutgar”}
\newcommand{\pwuthax}{\texttt{?\#} “wuthax”}
\newcommand{\pwuthep}{\texttt{?-} “wuthep”}
\newcommand{\pwutket}{\texttt{?\textasciicircum} “wutket”}
\newcommand{\pwutlus}{\texttt{?+} “wutlus”}
\newcommand{\pwutpam}{\texttt{?\&} “wutpam”}
\newcommand{\pwutsig}{\texttt{?\textasciitilde} “wutsig}
\newcommand{\pwutzap}{\texttt{?!} “wutzap”}
%
\newcommand{\pzapcol}{\texttt{!:} “zapcol”}
\newcommand{\pzapcom}{\texttt{!,} “zapcom”}
\newcommand{\pzapdot}{\texttt{!.} “zapdot”}
\newcommand{\pzapgal}{\texttt{!<} “zapgal”}
\newcommand{\pzapgar}{\texttt{!>} “zapgar”}
\newcommand{\pzapmic}{\texttt{!;} “zapmic”}
\newcommand{\pzappat}{\texttt{!\@} “zappat”}
\newcommand{\pzaptis}{\texttt{!=} “zaptis”}
\newcommand{\pzapwut}{\texttt{!?} “zapwut”}
\newcommand{\pzapzap}{\texttt{!!} “zapzap”}
%
\newcommand{\barbuc}{\texttt{|\$}}
\newcommand{\barcab}{\texttt{|\_}}
\newcommand{\barcen}{\texttt{|\%}}
\newcommand{\barcol}{\texttt{|:}}
\newcommand{\bardot}{\texttt{|.}}
\newcommand{\barhep}{\texttt{|-}}
\newcommand{\barket}{\texttt{|\textasciicircum}}
\newcommand{\barpat}{\texttt{|\@}}
\newcommand{\barsig}{\texttt{|\textasciitilde}}
\newcommand{\bartar}{\texttt{|*}}
\newcommand{\bartis}{\texttt{|=}}
\newcommand{\barwut}{\texttt{|?}}
%
\newcommand{\bucbar}{\texttt{\$|}}
\newcommand{\buccab}{\texttt{\$\_}}
\newcommand{\buccen}{\texttt{\$\%}}
\newcommand{\buccol}{\texttt{\$:}}
\newcommand{\bucdot}{\texttt{\$.}}
\newcommand{\bucgal}{\texttt{\$<}}
\newcommand{\bucgar}{\texttt{\$>}}
\newcommand{\buchep}{\texttt{\$-}}
\newcommand{\bucket}{\texttt{\$\textasciicircum}}
\newcommand{\bucmic}{\texttt{\$}}
\newcommand{\bucpam}{\texttt{\$\&}}
\newcommand{\bucpat}{\texttt{\$\@}}
\newcommand{\bucsig}{\texttt{\$\textascitilde}}
\newcommand{\buctis}{\texttt{\$=}}
\newcommand{\bucwut}{\texttt{\$?}}
%
\newcommand{\cencab}{\texttt{\%\_}}
\newcommand{\cencol}{\texttt{\%:}}
\newcommand{\cendot}{\texttt{\%.}}
\newcommand{\cenhep}{\texttt{\%-}}
\newcommand{\cenket}{\texttt{\%\textasciicircum}}
\newcommand{\cenlus}{\texttt{\%+}}
\newcommand{\censig}{\texttt{\%\textasciitilde}}
\newcommand{\centar}{\texttt{\%*}}
\newcommand{\centis}{\texttt{\%=}}
%
\newcommand{\colcab}{\texttt{:\_}}
\newcommand{\colcol}{\texttt{::}}
\newcommand{\colhep}{\texttt{:-}}
\newcommand{\colket}{\texttt{:\textasciicircum}}
\newcommand{\collus}{\texttt{:+}}
\newcommand{\colsig}{\texttt{:\textasciitilde}}
\newcommand{\coltar}{\texttt{:*}}
%
\newcommand{\dotlus}{\texttt{.+}}
\newcommand{\dotket}{\texttt{.\textasciicircum}}
\newcommand{\dottar}{\texttt{.*}}
\newcommand{\dottis}{\texttt{.=}}
\newcommand{\dotwut}{\texttt{.?}}
%
\newcommand{\fasbuc}{\texttt{/\$}}
\newcommand{\fascen}{\texttt{/\%}}
\newcommand{\fashep}{\texttt{/-}}
\newcommand{\faslus}{\texttt{/+}}
\newcommand{\fastar}{\texttt{/*}}
\newcommand{\fastis}{\texttt{/=}}
\newcommand{\faswut}{\texttt{/?}}
%
\newcommand{\hephep}{\texttt{--}}
%
\newcommand{\ketbar}{\texttt{\textasciicircum|}}
\newcommand{\ketcol}{\texttt{\textasciicircum:}}
\newcommand{\ketdot}{\texttt{\textasciicircum.}}
\newcommand{\kethep}{\texttt{\textasciicircum-}}
\newcommand{\ketlus}{\texttt{\textasciicircum+}}
\newcommand{\ketpam}{\texttt{\textasciicircum\&}}
\newcommand{\ketsig}{\texttt{\textasciicircum\textasciitilde}}
\newcommand{\kettar}{\texttt{\textasciicircum*}}
\newcommand{\kettis}{\texttt{\textasciicircum=}}
\newcommand{\ketwut}{\texttt{\textasciicircum?}}
%
\newcommand{\lusbar}{\texttt{+|}}
\newcommand{\lusbuc}{\texttt{+\$}}
\newcommand{\luslus}{\texttt{++}}
\newcommand{\lustar}{\texttt{+*}}
%
\newcommand{\miccol}{\texttt{;:}}
\newcommand{\micfas}{\texttt{;/}}
\newcommand{\micgal}{\texttt{;<}}
\newcommand{\miclus}{\texttt{;+}}
\newcommand{\micmic}{\texttt{;;}}
\newcommand{\micsig}{\texttt{;\textasciitilde}}
\newcommand{\mictar}{\texttt{;*}}
\newcommand{\mictis}{\texttt{;=}}
%
\newcommand{\sigbar}{\texttt{\textasciitilde|}}
\newcommand{\sigbuc}{\texttt{\textasciitilde\$}}
\newcommand{\sigcab}{\texttt{\textasciitilde\_}}
\newcommand{\sigcen}{\texttt{\textasciitilde\%}}
\newcommand{\sigfas}{\texttt{\textasciitilde/}}
\newcommand{\siggal}{\texttt{\textasciitilde<}}
\newcommand{\siggar}{\texttt{\textasciitilde>}}
\newcommand{\siglus}{\texttt{\textasciitilde+}}
\newcommand{\sigpam}{\texttt{\textasciitilde\&}}
\newcommand{\sigtis}{\texttt{\textasciitilde=}}
\newcommand{\sigwut}{\texttt{\textasciitilde?}}
\newcommand{\sigzap}{\texttt{\textasciitilde!}}
%
\newcommand{\tisbar}{\texttt{=|}}
\newcommand{\tiscol}{\texttt{=:}}
\newcommand{\tiscom}{\texttt{=,}}
\newcommand{\tisdot}{\texttt{=.}}
\newcommand{\tisfas}{\texttt{=/}}
\newcommand{\tisgal}{\texttt{=<}}
\newcommand{\tisgar}{\texttt{=>}}
\newcommand{\tishep}{\texttt{=-}}
\newcommand{\tisket}{\texttt{=\textasciicircum}}
\newcommand{\tislus}{\texttt{=+}}
\newcommand{\tismic}{\texttt{=;}}
\newcommand{\tissig}{\texttt{=\textasciitilde}}
\newcommand{\tistar}{\texttt{=*}}
\newcommand{\tistis}{\texttt{==}}
\newcommand{\tiswut}{\texttt{=?}}
%
\newcommand{\wutbar}{\texttt{?|}}
\newcommand{\wutcol}{\texttt{?:}}
\newcommand{\wutdot}{\texttt{?.}}
\newcommand{\wutgal}{\texttt{?<}}
\newcommand{\wutgar}{\texttt{?>}}
\newcommand{\wuthax}{\texttt{?\#}}
\newcommand{\wuthep}{\texttt{?-}}
\newcommand{\wutket}{\texttt{?\textasciicircum}}
\newcommand{\wutlus}{\texttt{?+}}
\newcommand{\wutpam}{\texttt{?\&}}
\newcommand{\wutsig}{\texttt{?\textasciitilde}}
\newcommand{\wuttis}{\texttt{?=}}
\newcommand{\wutzap}{\texttt{?!}}
%
\newcommand{\zapcol}{\texttt{!:}}
\newcommand{\zapcom}{\texttt{!,}}
\newcommand{\zapdot}{\texttt{!.}}
\newcommand{\zapgal}{\texttt{!<}}
\newcommand{\zapgar}{\texttt{!>}}
\newcommand{\zapmic}{\texttt{!;}}
\newcommand{\zappat}{\texttt{!\@}}
\newcommand{\zaptis}{\texttt{!=}}
\newcommand{\zapwut}{\texttt{!?}}
\newcommand{\zapzap}{\texttt{!!}}


% Reset sidenote counter at chapters
%\counterwithin*{sidenote}{chapter}

%----------------------------------------------------------------------------------------

\begin{document}

%----------------------------------------------------------------------------------------
%	BOOK INFORMATION
%----------------------------------------------------------------------------------------

\titlehead{}
\subject{}

\title{An Approach to Developing on Urbit}
\subtitle{}

\author[N E Davis]{N E Davis} %\thanks{University of Illinois}}

\date{\today}

\publishers{Malancandra \& Sons}

%----------------------------------------------------------------------------------------

\frontmatter % Denotes the start of the pre-document content, uses roman numerals

%----------------------------------------------------------------------------------------
%	OPENING PAGE
%----------------------------------------------------------------------------------------

%\makeatletter
%\extratitle{
%	% In the title page, the title is vspaced by 9.5\baselineskip
%	\vspace*{9\baselineskip}
%	\vspace*{\parskip}
%	\begin{center}
%		% In the title page, \huge is set after the komafont for title
%		\usekomafont{title}\huge\@title
%	\end{center}
%}
%\makeatother

%----------------------------------------------------------------------------------------
%	COPYRIGHT PAGE
%----------------------------------------------------------------------------------------

\makeatletter
\uppertitleback{\@titlehead} % Header

\lowertitleback{
	\textbf{Copyright ©2021 by N E Davis}\\

	\medskip

	\textbf{Colophon} \\
	This document was typeset with the help of \href{https://sourceforge.net/projects/koma-script/}{\KOMAScript} and \href{https://www.latex-project.org/}{\LaTeX} using the \href{https://github.com/fmarotta/kaobook/}{kaobook} class.

	The source code of this book is available at:\\\url{https://github.com/davis68/urbit-textbook}

	\medskip

	\textbf{Publisher} \\
	First published in the year of our Lord 2021 by \@publishers.
}
\makeatother

%----------------------------------------------------------------------------------------
%	DEDICATION
%----------------------------------------------------------------------------------------

\dedication{
	Lights All Askew in the Heavens. \\
	Stars Not Where They Seemed or Were Calculated to Be. \\
	A BOOK FOR 12 WISE MEN. \\
	No More in All the World Could Comprehend It. \\
	\flushright -- \href{https://en.wikisource.org/wiki/The_New_York_Times/Lights_All_Askew_in_the_Heavens}{\emph{The New York Times}, November 19, 1919}
	\\
	\\
	\\
	\\
	(quotation in Spanish from JLB about “to explain (or pass judgment on) an event is to link it to another; on Tlon, that joining-together is a posterior state of the subject, and can neither affect nor illuminate the prior states”)
}

%----------------------------------------------------------------------------------------
%	OUTPUT TITLE PAGE AND PREVIOUS
%----------------------------------------------------------------------------------------

% Note that \maketitle outputs the pages before here

% If twoside=false, \uppertitleback and \lowertitleback are not printed
% To overcome this issue, we set twoside=semi just before printing the title pages, and set it back to false just after the title pages
\KOMAoptions{twoside=semi}
\maketitle
\KOMAoptions{twoside=false}

%----------------------------------------------------------------------------------------
%	PREFACE
%----------------------------------------------------------------------------------------

%\input{chapters/preface.tex}

%----------------------------------------------------------------------------------------
%	TABLE OF CONTENTS & LIST OF FIGURES/TABLES
%----------------------------------------------------------------------------------------

\begingroup % Local scope for the following commands

% Define the style for the TOC, LOF, and LOT
%\setstretch{1} % Uncomment to modify line spacing in the ToC
%\hypersetup{linkcolor=blue} % Uncomment to set the colour of links in the ToC
\setlength{\textheight}{23cm} % Manually adjust the height of the ToC pages

% Turn on compatibility mode for the etoc package
\etocstandarddisplaystyle % "toc display" as if etoc was not loaded
\etocstandardlines % toc lines as if etoc was not loaded

\tableofcontents % Output the table of contents

\listoffigures % Output the list of figures

% Comment both of the following lines to have the LOF and the LOT on different pages
\let\cleardoublepage\bigskip
\let\clearpage\bigskip

\listoftables % Output the list of tables

\endgroup

%----------------------------------------------------------------------------------------
%	MAIN BODY
%----------------------------------------------------------------------------------------

\mainmatter % Denotes the start of the main document content, resets page numbering and uses arabic numbers
\setchapterstyle{kao} % Choose the default chapter heading style

\input{content/intro.tex}

\pagelayout{wide} % No margins
\addpart{Language Essentials}
\pagelayout{margin} % Restore margins

\input{content/nock.tex}
\input{content/hoon-elements.tex}
\input{content/hoon-advanced.tex}

\pagelayout{wide} % No margins
\addpart{System Development}
\pagelayout{margin} % Restore margins

\input{content/kernel.tex}
\input{content/userspace.tex}
\input{content/support.tex}
\input{content/conclusion.tex}

\appendix % From here onwards, chapters are numbered with letters, as is the appendix convention

\pagelayout{wide} % No margins
\addpart{Appendix}
\pagelayout{margin} % Restore margins

\input{content/appendix.tex}

%----------------------------------------------------------------------------------------

\backmatter % Denotes the end of the main document content
\setchapterstyle{plain} % Output plain chapters from this point onwards

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

% The bibliography needs to be compiled with biber using your LaTeX editor, or on the command line with 'biber main' from the template directory

\defbibnote{bibnote}{Here are the references in citation order.\par\bigskip} % Prepend this text to the bibliography
\printbibliography[heading=bibintoc, title=Bibliography, prenote=bibnote] % Add the bibliography heading to the ToC, set the title of the bibliography and output the bibliography note

%----------------------------------------------------------------------------------------
%	NOMENCLATURE
%----------------------------------------------------------------------------------------

% The nomenclature needs to be compiled on the command line with 'makeindex main.nlo -s nomencl.ist -o main.nls' from the template directory

\nomenclature{$c$}{Speed of light in a vacuum inertial frame}
\nomenclature{$h$}{Planck constant}

\renewcommand{\nomname}{Notation} % Rename the default 'Nomenclature'
\renewcommand{\nompreamble}{The next list describes several symbols that will be later used within the body of the document.} % Prepend this text to the nomenclature

\printnomenclature % Output the nomenclature

%----------------------------------------------------------------------------------------
%	INDEX
%----------------------------------------------------------------------------------------

% The index needs to be compiled on the command line with 'makeindex main' from the template directory

\printindex % Output the index

%----------------------------------------------------------------------------------------
%	BACK COVER
%----------------------------------------------------------------------------------------

% If you have a PDF/image file that you want to use as a back cover, uncomment the following lines

%\clearpage
%\thispagestyle{empty}
%\null%
%\clearpage
%\includepdf{cover-back.pdf}

%----------------------------------------------------------------------------------------

\end{document}
